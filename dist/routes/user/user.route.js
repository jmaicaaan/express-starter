'use strict';

var _express = require('express');

var _express2 = _interopRequireDefault(_express);

var _index = require('../../handlers/index');

var _route = require('../../middlewares/route.middleware');

var _me = require('../../middlewares/me.middleware');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UserRoutes = _express2.default.Router();

var userHandler = new _index.UserHandler();
var routeMiddleware = new _route.RouteMiddleware();
var meMiddleware = new _me.MeMiddleware();

UserRoutes.get('/', userHandler.find);
UserRoutes.post('/', userHandler.addUser);
UserRoutes.post('/login', userHandler.login);

UserRoutes.get('/me', function (req, res, next) {
  return routeMiddleware.acl(req, res, next);
}, function (req, res, next) {
  return meMiddleware.getMe(req, res, next);
});

module.exports.UserRoutes = UserRoutes;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2FwcC9yb3V0ZXMvdXNlci91c2VyLnJvdXRlLmpzIl0sIm5hbWVzIjpbIlVzZXJSb3V0ZXMiLCJSb3V0ZXIiLCJ1c2VySGFuZGxlciIsInJvdXRlTWlkZGxld2FyZSIsIm1lTWlkZGxld2FyZSIsImdldCIsImZpbmQiLCJwb3N0IiwiYWRkVXNlciIsImxvZ2luIiwicmVxIiwicmVzIiwibmV4dCIsImFjbCIsImdldE1lIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsSUFBTUEsYUFBYSxrQkFBUUMsTUFBUixFQUFuQjs7QUFFQSxJQUFNQyxjQUFjLHdCQUFwQjtBQUNBLElBQU1DLGtCQUFrQiw0QkFBeEI7QUFDQSxJQUFNQyxlQUFlLHNCQUFyQjs7QUFFQUosV0FBV0ssR0FBWCxDQUFlLEdBQWYsRUFBb0JILFlBQVlJLElBQWhDO0FBQ0FOLFdBQVdPLElBQVgsQ0FBZ0IsR0FBaEIsRUFBcUJMLFlBQVlNLE9BQWpDO0FBQ0FSLFdBQVdPLElBQVgsQ0FBZ0IsUUFBaEIsRUFBMEJMLFlBQVlPLEtBQXRDOztBQUVBVCxXQUFXSyxHQUFYLENBQWUsS0FBZixFQUFzQixVQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWDtBQUFBLFNBQW9CVCxnQkFBZ0JVLEdBQWhCLENBQW9CSCxHQUFwQixFQUF5QkMsR0FBekIsRUFBOEJDLElBQTlCLENBQXBCO0FBQUEsQ0FBdEIsRUFDRSxVQUFDRixHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWDtBQUFBLFNBQW9CUixhQUFhVSxLQUFiLENBQW1CSixHQUFuQixFQUF3QkMsR0FBeEIsRUFBNkJDLElBQTdCLENBQXBCO0FBQUEsQ0FERjs7QUFHQUcsT0FBT0MsT0FBUCxDQUFlaEIsVUFBZixHQUE0QkEsVUFBNUIiLCJmaWxlIjoidXNlci5yb3V0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgeyBVc2VySGFuZGxlciB9IGZyb20gJy4uLy4uL2hhbmRsZXJzL2luZGV4JztcclxuaW1wb3J0IHsgUm91dGVNaWRkbGV3YXJlIH0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZXMvcm91dGUubWlkZGxld2FyZSc7XHJcbmltcG9ydCB7IE1lTWlkZGxld2FyZSB9IGZyb20gJy4uLy4uL21pZGRsZXdhcmVzL21lLm1pZGRsZXdhcmUnO1xyXG5cclxuY29uc3QgVXNlclJvdXRlcyA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5jb25zdCB1c2VySGFuZGxlciA9IG5ldyBVc2VySGFuZGxlcigpO1xyXG5jb25zdCByb3V0ZU1pZGRsZXdhcmUgPSBuZXcgUm91dGVNaWRkbGV3YXJlKCk7XHJcbmNvbnN0IG1lTWlkZGxld2FyZSA9IG5ldyBNZU1pZGRsZXdhcmUoKTtcclxuXHJcblVzZXJSb3V0ZXMuZ2V0KCcvJywgdXNlckhhbmRsZXIuZmluZCk7XHJcblVzZXJSb3V0ZXMucG9zdCgnLycsIHVzZXJIYW5kbGVyLmFkZFVzZXIpO1xyXG5Vc2VyUm91dGVzLnBvc3QoJy9sb2dpbicsIHVzZXJIYW5kbGVyLmxvZ2luKTtcclxuXHJcblVzZXJSb3V0ZXMuZ2V0KCcvbWUnLCAocmVxLCByZXMsIG5leHQpID0+IHJvdXRlTWlkZGxld2FyZS5hY2wocmVxLCByZXMsIG5leHQpLCBcclxuICAocmVxLCByZXMsIG5leHQpID0+IG1lTWlkZGxld2FyZS5nZXRNZShyZXEsIHJlcywgbmV4dCkpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMuVXNlclJvdXRlcyA9IFVzZXJSb3V0ZXM7Il19