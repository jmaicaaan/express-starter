'use strict';

var _models = require('../../../models');

var models = _interopRequireWildcard(_models);

var _index = require('../../services/index');

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var userService = new _index.UserService();

var UserHandler = function UserHandler() {};

UserHandler.prototype.addUser = function (req, res) {
  var username = req.body.username || 'Lorem Ipsum';
  var password = req.body.password;
  userService.addUser(username, password).then(function (user) {
    res.send(user);
  });
};

UserHandler.prototype.login = function (req, res) {
  var username = req.body.username;
  var password = req.body.password;

  userService.login(username, password).then(function (user) {
    res.send(user);
  }).catch(function (err) {
    res.status(422).send(err);
  });
};

UserHandler.prototype.find = function (req, res) {
  userService.find().then(function (data) {
    res.send(data.get());
  });
};

module.exports.UserHandler = UserHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2FwcC9oYW5kbGVycy91c2VyL3VzZXIuaGFuZGxlci5qcyJdLCJuYW1lcyI6WyJtb2RlbHMiLCJ1c2VyU2VydmljZSIsIlVzZXJIYW5kbGVyIiwicHJvdG90eXBlIiwiYWRkVXNlciIsInJlcSIsInJlcyIsInVzZXJuYW1lIiwiYm9keSIsInBhc3N3b3JkIiwidGhlbiIsInNlbmQiLCJ1c2VyIiwibG9naW4iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsImZpbmQiLCJkYXRhIiwiZ2V0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7SUFBWUEsTTs7QUFDWjs7OztBQUVBLElBQUlDLGNBQWMsd0JBQWxCOztBQUVBLElBQUlDLGNBQWMsU0FBZEEsV0FBYyxHQUFXLENBQUUsQ0FBL0I7O0FBRUFBLFlBQVlDLFNBQVosQ0FBc0JDLE9BQXRCLEdBQWdDLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNqRCxNQUFJQyxXQUFXRixJQUFJRyxJQUFKLENBQVNELFFBQVQsSUFBcUIsYUFBcEM7QUFDQSxNQUFJRSxXQUFXSixJQUFJRyxJQUFKLENBQVNDLFFBQXhCO0FBQ0FSLGNBQVlHLE9BQVosQ0FBb0JHLFFBQXBCLEVBQThCRSxRQUE5QixFQUNHQyxJQURILENBQ1EsZ0JBQVE7QUFDWkosUUFBSUssSUFBSixDQUFTQyxJQUFUO0FBQ0QsR0FISDtBQUlELENBUEQ7O0FBU0FWLFlBQVlDLFNBQVosQ0FBc0JVLEtBQXRCLEdBQThCLFVBQVNSLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUMvQyxNQUFJQyxXQUFXRixJQUFJRyxJQUFKLENBQVNELFFBQXhCO0FBQ0EsTUFBSUUsV0FBV0osSUFBSUcsSUFBSixDQUFTQyxRQUF4Qjs7QUFFQVIsY0FBWVksS0FBWixDQUFrQk4sUUFBbEIsRUFBNEJFLFFBQTVCLEVBQ0dDLElBREgsQ0FDUSxnQkFBUTtBQUNaSixRQUFJSyxJQUFKLENBQVNDLElBQVQ7QUFDRCxHQUhILEVBSUdFLEtBSkgsQ0FJUyxVQUFDQyxHQUFELEVBQVM7QUFDZFQsUUFBSVUsTUFBSixDQUFXLEdBQVgsRUFBZ0JMLElBQWhCLENBQXFCSSxHQUFyQjtBQUNELEdBTkg7QUFPRCxDQVhEOztBQWFBYixZQUFZQyxTQUFaLENBQXNCYyxJQUF0QixHQUE2QixVQUFTWixHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDOUNMLGNBQVlnQixJQUFaLEdBQ0dQLElBREgsQ0FDUSxVQUFDUSxJQUFELEVBQVU7QUFDZFosUUFBSUssSUFBSixDQUFTTyxLQUFLQyxHQUFMLEVBQVQ7QUFDRCxHQUhIO0FBSUQsQ0FMRDs7QUFPQUMsT0FBT0MsT0FBUCxDQUFlbkIsV0FBZixHQUE2QkEsV0FBN0IiLCJmaWxlIjoidXNlci5oYW5kbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbW9kZWxzIGZyb20gJy4uLy4uLy4uL21vZGVscyc7XHJcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvaW5kZXgnO1xyXG5cclxudmFyIHVzZXJTZXJ2aWNlID0gbmV3IFVzZXJTZXJ2aWNlKCk7XHJcblxyXG52YXIgVXNlckhhbmRsZXIgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuVXNlckhhbmRsZXIucHJvdG90eXBlLmFkZFVzZXIgPSBmdW5jdGlvbihyZXEsIHJlcykge1xyXG4gIGxldCB1c2VybmFtZSA9IHJlcS5ib2R5LnVzZXJuYW1lIHx8ICdMb3JlbSBJcHN1bSc7XHJcbiAgbGV0IHBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XHJcbiAgdXNlclNlcnZpY2UuYWRkVXNlcih1c2VybmFtZSwgcGFzc3dvcmQpXHJcbiAgICAudGhlbih1c2VyID0+IHtcclxuICAgICAgcmVzLnNlbmQodXNlcik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblVzZXJIYW5kbGVyLnByb3RvdHlwZS5sb2dpbiA9IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcbiAgbGV0IHVzZXJuYW1lID0gcmVxLmJvZHkudXNlcm5hbWU7XHJcbiAgbGV0IHBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XHJcblxyXG4gIHVzZXJTZXJ2aWNlLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZClcclxuICAgIC50aGVuKHVzZXIgPT4ge1xyXG4gICAgICByZXMuc2VuZCh1c2VyKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICByZXMuc3RhdHVzKDQyMikuc2VuZChlcnIpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5Vc2VySGFuZGxlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcbiAgdXNlclNlcnZpY2UuZmluZCgpXHJcbiAgICAudGhlbigoZGF0YSkgPT4geyAgICAgIFxyXG4gICAgICByZXMuc2VuZChkYXRhLmdldCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMuVXNlckhhbmRsZXIgPSBVc2VySGFuZGxlcjsiXX0=